# üß© creating_custom_property_editors

> Build your own **custom property editor** (aka backoffice field/component) in Umbraco v13 using JavaScript (or AngularJS) + manifest config ‚Äî **step-by-step**, with actual structure, paths, and reusable logic.

---

## ‚úÖ When Do You Need a Custom Property Editor?

Umbraco ships with common field types like:

- Textstring, Richtext, Media picker, Dropdown, Tags, etc.

But you might need:

- A **color picker with brand palettes**
- A **Google Map selector**
- A **list of external API choices**
- A **custom tag input with autocomplete**
- A **custom date+time range picker**

üëâ In all these cases, you build your own **App_Plugins component**.

---

## üì¶ What Is a Property Editor?

It‚Äôs a **field input** that appears in the backoffice when editing content, built using:

- A `package.manifest` file
- A custom HTML/JS view
- (Optionally) a controller
- Some styling (CSS)

---

## üìÅ Real Folder Structure Example

Create your editor inside:

```ini
/App_Plugins/MyColorPicker/
‚îú‚îÄ‚îÄ package.manifest
‚îú‚îÄ‚îÄ colorpicker.html
‚îú‚îÄ‚îÄ colorpicker.controller.js (optional)
‚îú‚îÄ‚îÄ colorpicker.css (optional)
```

---

## üßæ Step-by-Step: Build a Custom Color Picker

---

### 1Ô∏è‚É£ Create Folder `/App_Plugins/MyColorPicker/`

This will house your editor.

---

### 2Ô∏è‚É£ Create `package.manifest`

```json
{
  "propertyEditors": [
    {
      "alias": "My.ColorPicker",
      "name": "My Color Picker",
      "editor": {
        "view": "~/App_Plugins/MyColorPicker/colorpicker.html",
        "valueType": "JSON"
      },
      "icon": "icon-brush",
      "group": "common"
    }
  ],
  "javascript": ["~/App_Plugins/MyColorPicker/colorpicker.controller.js"],
  "css": ["~/App_Plugins/MyColorPicker/colorpicker.css"]
}
```

> üß† `alias` is how Umbraco refers to the editor. `view` is the path to the custom UI.

---

### 3Ô∏è‚É£ Create `colorpicker.html`

```html
<div class="my-color-picker">
  <label>Select a color:</label>
  <input type="color" ng-model="model.value" />
</div>
```

If you want to handle color history or formats, you'll go fancier.

---

### 4Ô∏è‚É£ Create Optional Controller `colorpicker.controller.js`

```javascript
angular.module("umbraco").controller("My.ColorPickerController", function ($scope) {
  // You can watch, validate, fetch, or transform $scope.model.value here
});
```

> You can bind this controller by using:
> `ng-controller="My.ColorPickerController"` in `colorpicker.html`

---

### 5Ô∏è‚É£ (Optional) Add `colorpicker.css`

```css
.my-color-picker input {
  width: 100px;
  height: 30px;
  border-radius: 4px;
}
```

---

### 6Ô∏è‚É£ Restart Umbraco

Umbraco scans `/App_Plugins` on startup or model rebuild.

---

## üß™ Test It

1. Go to **Settings ‚Üí Data Types ‚Üí Create New**
2. Choose your new **"My Color Picker"** from the list
3. Use it in a Document Type
4. Create/edit content ‚Äî your custom field should now appear.

---

## üß† Behind the Scenes

```mermaid
graph TD
  A[package.manifest] --> B[Registers property editor]
  B --> C[Points to HTML view]
  C --> D["ng-model='model.value'"]
  D --> E[Stored as JSON in DB]
  C --> F["colorpicker.controller.js (optional logic)"]
```

---

## ‚ö†Ô∏è Things to Watch For

| Problem                 | Fix                                             |
| ----------------------- | ----------------------------------------------- |
| Editor doesn't appear   | Wrong `view` path, check console                |
| Value not saved         | Use `ng-model="model.value"` exactly            |
| Controller doesn‚Äôt fire | Match `controller` name + angular.module syntax |
| Styles not loaded       | Add in `css` array of `package.manifest`        |

---

## ‚úÖ Summary

| File               | Purpose                          |
| ------------------ | -------------------------------- |
| `package.manifest` | Registers the editor in Umbraco  |
| `*.html`           | Your custom field UI             |
| `*.controller.js`  | Optional logic layer (AngularJS) |
| `*.css`            | Optional styling                 |

---

## üöÄ Practice Challenge

Create a custom **Google Maps Picker**:

- Input field + map popup
- Stores `{ lat, lng }`
- Use it in a `Location` Document Type
