# ğŸ” SEO Best Practices in Umbraco

> Learn how to implement SEO fundamentals in Umbraco v13 using custom fields, Razor tags, and best practices for visibility and ranking ğŸ“¦ğŸš€

---

## ğŸ¯ Why SEO in Umbraco?

Even if your content is gold ğŸ† â€” if Google canâ€™t find, index, or understand it, itâ€™s like yelling into a pillow ğŸ˜¶.

Umbraco gives you full control over:

- Custom meta tags
- Canonical links
- Sitemaps
- robots.txt
- Structured content models

---

## ğŸ§± Step-by-Step: SEO Implementation Plan

| Task                         | How                     |
| ---------------------------- | ----------------------- |
| âœ… Meta title & description  | Add fields to Doc Type  |
| âœ… Canonical URL             | Razor logic             |
| âœ… robots.txt & sitemap.xml  | Static files + packages |
| âœ… Open Graph (social share) | More fields + layout    |
| âœ… SEO-friendly URLs         | Done by Umbraco ğŸ’ª      |

---

## ğŸ“ Step 1: Add SEO Fields to Document Types

Go to **Settings â†’ Document Types â†’ Composition or Base Type**

Create a **composition** called `SeoSettings` and attach it to all pages.

### â• Fields to Add

| Field Name               | Data Type    | Alias                   |
| ------------------------ | ------------ | ----------------------- |
| Meta Title               | TextString   | `metaTitle`             |
| Meta Description         | TextArea     | `metaDescription`       |
| Canonical URL (optional) | TextString   | `canonicalUrl`          |
| NoIndex Toggle           | True/False   | `hideFromSearchEngines` |
| OG Image (optional)      | Media Picker | `openGraphImage`        |

âœ… Save and attach this composition to `Home`, `BlogPost`, `Product`, etc.

---

## ğŸ§¾ Step 2: Use Razor to Inject Meta Tags

In your `Layout.cshtml`:

```cshtml
@inherits UmbracoViewPage<IPublishedContent>
@{
    var seoTitle = Model.Value("metaTitle") ?? Model.Name;
    var seoDesc = Model.Value("metaDescription");
    var noIndex = Model.Value<bool>("hideFromSearchEngines");
    var canonical = Model.Value("canonicalUrl") ?? Model.Url(mode: UrlMode.Absolute);
}
<title>@seoTitle</title>
<meta name="description" content="@seoDesc" />
@if (noIndex)
{
    <meta name="robots" content="noindex, nofollow" />
}
<link rel="canonical" href="@canonical" />
```

---

## ğŸŒ Step 3: robots.txt + sitemap.xml

---

### ğŸ§¾ robots.txt

ğŸ“ Place a file at `/wwwroot/robots.txt`:

```txt
User-agent: *
Allow: /

Sitemap: https://yourdomain.com/sitemap.xml
```

ğŸ§  This is publicly visible at `/robots.txt`

---

### ğŸ§¾ sitemap.xml

You have 2 options:

#### âœ… Option 1: Manual Razor Sitemap

ğŸ“ `/Views/Sitemap.cshtml`:

```cshtml
@inherits UmbracoViewPage
@{
    Layout = null;
    var root = Umbraco.ContentAtRoot().First();
    var pages = root.Descendants().Where(x => x.IsVisible());
}
<?xml version="1.0" encoding="utf-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
@foreach (var page in pages)
{
    <url>
        <loc>@page.Url(mode: UrlMode.Absolute)</loc>
        <lastmod>@page.UpdateDate.ToString("yyyy-MM-dd")</lastmod>
    </url>
}
</urlset>
```

ğŸ“ Then map the route in `Program.cs`:

```csharp
endpoints.MapUmbracoRoute("sitemap", "sitemap.xml", new { controller = "Sitemap", action = "Index" });
```

---

#### âœ… Option 2: Use a Package

ğŸ“¦ Install **SEO Toolkit** or **uSkinned SEO**, which generate sitemaps and robots.txt for you.

```bash
dotnet add package SeoToolkit.Umbraco
```

---

## ğŸ§  Step 4: Open Graph (Facebook/Twitter Shares)

Add to `Layout.cshtml`:

```cshtml
<meta property="og:title" content="@seoTitle" />
<meta property="og:description" content="@seoDesc" />
<meta property="og:image" content="@Model.Value<IPublishedContent>("openGraphImage")?.Url()" />
```

Optional: Add `twitter:card`, `og:type`, `og:url`

---

## ğŸ“ Step 5: Canonical URL

This helps prevent **duplicate content** SEO penalties.

```cshtml
<link rel="canonical" href="@Model.Url(mode: UrlMode.Absolute)" />
```

---

## ğŸ“± Bonus: Use Googleâ€™s Rich Results Testing Tool

Try:

- [https://search.google.com/test/rich-results](https://search.google.com/test/rich-results)

To validate your meta tags, robots, structured data, and Open Graph tags.

---

## âœ… Summary

| Task                     | Done In                      |
| ------------------------ | ---------------------------- |
| Meta Title & Description | Document Type fields + Razor |
| Canonical URLs           | Razor `Model.Url(...)`       |
| Robots.txt               | Static `/wwwroot/robots.txt` |
| Sitemap                  | Razor view or package        |
| OG Tags                  | Layout + fields              |

---

## ğŸš€ Practice Challenge

- Create a `SeoSettings` composition
- Add it to your page types
- Fill out the meta tags + noindex toggle
- Render it all in `Layout.cshtml`
- Test with [https://seositecheckup.com/](https://seositecheckup.com/)
